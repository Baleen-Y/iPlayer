name: Release

# on:
#   schedule:
#     # * is a special character in YAML so you have to quote this string
#     - cron: "5 * * * *"
on:
  workflow_dispatch:
    inputs:
      alphaVersion:
        description: "input alpha version to release."
        required: true
      version:
        description: "The app to release."
        required: true

jobs:
  release:
    name: release
    runs-on: windows-latest

    steps:
      - name: init
        uses: actions/checkout@v1

      - name: download
        id: package
        uses: robinraju/release-downloader@v1.8
        with:
          tag: ${{inputs.alphaVersion}}
          fileName: "*"

      - name: release
        uses: softprops/action-gh-release@v1
        with:
          tag_name: v${{inputs.alphaVersion}}
          name: v${{inputs.alphaVersion}}
          draft: false
          prerelease: true
          fail_on_unmatched_files: false
          append_body: true
          files: |
            ${{steps.download.outputs.downloaded_files}}
